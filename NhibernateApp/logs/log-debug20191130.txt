2019-11-30 00:40:06.462 +01:00 [Information] Starting up
2019-11-30 00:40:07.228 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 00:40:07.254 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 00:40:07.256 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 00:40:07.259 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 00:40:07.259 +01:00 [Information] Using reflection optimizer
2019-11-30 00:40:07.311 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 00:40:07.341 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 00:40:07.353 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:07.371 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:07.373 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:08.396 +01:00 [Information] checking mappings queue
2019-11-30 00:40:08.396 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:08.396 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:08.396 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:08.399 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:08.421 +01:00 [Information] checking mappings queue
2019-11-30 00:40:08.421 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:08.421 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:08.421 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:08.421 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:08.427 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.430 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.438 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.438 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.438 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.439 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.439 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.439 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.440 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.442 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:08.955 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.956 +01:00 [Information] checking mappings queue
2019-11-30 00:40:08.957 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:08.957 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:08.957 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:08.957 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:08.972 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:08.987 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:09.042 +01:00 [Information] Using dialect defined converter
2019-11-30 00:40:09.043 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 00:40:09.043 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:09.043 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 00:40:09.044 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 00:40:09.044 +01:00 [Information] Connection release mode: "auto"
2019-11-30 00:40:09.044 +01:00 [Information] Default batch fetch size: 1
2019-11-30 00:40:09.044 +01:00 [Information] echoing all SQL to stdout
2019-11-30 00:40:09.044 +01:00 [Information] Statistics: "disabled"
2019-11-30 00:40:09.045 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 00:40:09.045 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 00:40:09.046 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 00:40:09.047 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 00:40:09.048 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 00:40:09.048 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 00:40:09.048 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 00:40:09.049 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 00:40:09.050 +01:00 [Information] Default flush mode: Auto
2019-11-30 00:40:09.050 +01:00 [Information] Named query checking : "enabled"
2019-11-30 00:40:09.062 +01:00 [Information] building session factory
2019-11-30 00:40:09.190 +01:00 [Information] no name configured
2019-11-30 00:40:09.445 +01:00 [Information] Running schema validator
2019-11-30 00:40:09.445 +01:00 [Information] fetching database metadata
2019-11-30 00:40:09.541 +01:00 [Information] checking mappings queue
2019-11-30 00:40:09.541 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:09.541 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:09.541 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:09.541 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:09.691 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 00:40:09.692 +01:00 [Information] columns: "Id, Title"
2019-11-30 00:40:09.816 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 00:40:09.816 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 00:40:10.076 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 00:40:10.278 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 00:40:10.278 +01:00 [Information] Hosting environment: "Development"
2019-11-30 00:40:10.278 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 00:40:10.323 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 00:40:10.439 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 00:40:10.470 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 00:40:10.973 +01:00 [Information] Executing ObjectResult, writing value of type '"NhibernateApp.Models.Book"'.
2019-11-30 00:40:11.008 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 531.9490000000001ms
2019-11-30 00:40:11.010 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 00:40:11.019 +01:00 [Information] Request finished in 697.2433000000001ms 200 application/json; charset=utf-8
2019-11-30 00:40:39.050 +01:00 [Information] Starting up
2019-11-30 00:40:39.651 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 00:40:39.670 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 00:40:39.673 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 00:40:39.677 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 00:40:39.677 +01:00 [Information] Using reflection optimizer
2019-11-30 00:40:39.717 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 00:40:39.726 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 00:40:39.742 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 00:40:39.746 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 00:40:39.755 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:39.766 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:39.767 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:39.786 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 00:40:40.803 +01:00 [Debug] Closing connection
2019-11-30 00:40:40.814 +01:00 [Information] checking mappings queue
2019-11-30 00:40:40.814 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:40.814 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:40.814 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:40.817 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:40.834 +01:00 [Information] checking mappings queue
2019-11-30 00:40:40.834 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:40.834 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:40.834 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:40.834 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:40.839 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.840 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.844 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.844 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.844 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.845 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.845 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.845 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.845 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:40.847 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:40.847 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 00:40:40.954 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 00:40:41.051 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 00:40:41.128 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 00:40:41.215 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 00:40:41.316 +01:00 [Debug] Closing connection
2019-11-30 00:40:41.316 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 00:40:41.317 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:41.318 +01:00 [Information] checking mappings queue
2019-11-30 00:40:41.318 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:41.318 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:41.318 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:41.318 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:41.330 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:41.346 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 00:40:41.393 +01:00 [Information] Using dialect defined converter
2019-11-30 00:40:41.393 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 00:40:41.394 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 00:40:41.394 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 00:40:41.395 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 00:40:41.395 +01:00 [Information] Connection release mode: "auto"
2019-11-30 00:40:41.395 +01:00 [Information] Default batch fetch size: 1
2019-11-30 00:40:41.395 +01:00 [Information] echoing all SQL to stdout
2019-11-30 00:40:41.395 +01:00 [Information] Statistics: "disabled"
2019-11-30 00:40:41.395 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 00:40:41.396 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 00:40:41.396 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 00:40:41.398 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 00:40:41.398 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 00:40:41.398 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 00:40:41.399 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 00:40:41.399 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 00:40:41.399 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 00:40:41.399 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 00:40:41.399 +01:00 [Information] Default flush mode: Auto
2019-11-30 00:40:41.400 +01:00 [Information] Named query checking : "enabled"
2019-11-30 00:40:41.400 +01:00 [Debug] Track session id: enabled
2019-11-30 00:40:41.415 +01:00 [Information] building session factory
2019-11-30 00:40:41.415 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 00:40:41.416 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 00:40:41.416 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 00:40:41.538 +01:00 [Debug] Closing connection
2019-11-30 00:40:41.541 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 00:40:41.541 +01:00 [Debug] registered: "6769c0e5ecd54b589b96bfd881c5cb47"("unnamed")
2019-11-30 00:40:41.541 +01:00 [Information] no name configured
2019-11-30 00:40:41.588 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 00:40:41.603 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 00:40:41.625 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 00:40:41.626 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 00:40:41.664 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 00:40:41.666 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 00:40:41.667 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 00:40:41.667 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 00:40:41.668 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 00:40:41.668 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 00:40:41.699 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 00:40:41.699 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 00:40:41.700 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 00:40:41.700 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 00:40:41.700 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 00:40:41.702 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 00:40:41.702 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 00:40:41.703 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 00:40:41.703 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 00:40:41.703 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 00:40:41.704 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 00:40:41.704 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 00:40:41.704 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 00:40:41.704 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 00:40:41.704 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 00:40:41.704 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 00:40:41.704 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 00:40:41.705 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 00:40:41.705 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 00:40:41.705 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 00:40:41.705 +01:00 [Debug] Instantiated session factory
2019-11-30 00:40:41.706 +01:00 [Information] Running schema validator
2019-11-30 00:40:41.706 +01:00 [Information] fetching database metadata
2019-11-30 00:40:41.706 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 00:40:41.819 +01:00 [Information] checking mappings queue
2019-11-30 00:40:41.819 +01:00 [Information] processing one-to-many association mappings
2019-11-30 00:40:41.819 +01:00 [Information] processing one-to-one association property references
2019-11-30 00:40:41.819 +01:00 [Information] processing foreign key constraints
2019-11-30 00:40:41.819 +01:00 [Information] processing filters (second pass)
2019-11-30 00:40:41.977 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 00:40:41.978 +01:00 [Information] columns: "Id, Title"
2019-11-30 00:40:42.109 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 00:40:42.110 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 00:40:42.111 +01:00 [Debug] Closing connection
2019-11-30 00:40:42.114 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 00:40:42.114 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 00:40:42.338 +01:00 [Debug] Hosting starting
2019-11-30 00:40:42.368 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 00:40:42.391 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 00:40:42.399 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 00:40:42.408 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 00:40:42.415 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 00:40:42.417 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 00:40:42.419 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 00:40:42.422 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 00:40:42.426 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 00:40:42.429 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 00:40:42.430 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 00:40:42.583 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 00:40:42.583 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 00:40:42.584 +01:00 [Information] Hosting environment: "Development"
2019-11-30 00:40:42.584 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 00:40:42.584 +01:00 [Debug] Hosting started
2019-11-30 00:40:42.623 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 00:40:42.625 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 00:40:42.701 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 00:40:42.748 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 00:40:42.751 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 00:40:42.752 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 00:40:42.752 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 00:40:42.761 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 00:40:42.779 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 00:40:42.780 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 00:40:42.780 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 00:40:42.780 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 00:40:42.780 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 00:40:42.781 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 00:40:42.781 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 00:40:42.785 +01:00 [Debug] Opening Hibernate Session.
2019-11-30 00:40:42.796 +01:00 [Debug] [session-id=333db54d-38bd-4006-8804-26c77cbdc42b] opened session at timestamp: 637106712427, for session factory: [null/"6769c0e5ecd54b589b96bfd881c5cb47"]
2019-11-30 00:40:42.800 +01:00 [Debug] Executed controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 00:40:42.804 +01:00 [Debug] Begin (Unspecified)
2019-11-30 00:40:42.806 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 00:40:43.042 +01:00 [Debug] unsaved-value: 0
2019-11-30 00:40:43.043 +01:00 [Debug] transient instance of: "NhibernateApp.Models.Book"
2019-11-30 00:40:43.044 +01:00 [Debug] saving transient instance
2019-11-30 00:40:43.045 +01:00 [Debug] fetching initial value: ["select max(Id) from Books"]
2019-11-30 00:40:43.048 +01:00 [Debug] Opened new DbCommand, open DbCommands: 1
2019-11-30 00:40:43.048 +01:00 [Debug] Building an DbCommand object for the SqlString: ["select max(Id) from Books"]
2019-11-30 00:40:43.054 +01:00 [Debug] 
    select
        max(Id) 
    from
        Books
2019-11-30 00:40:43.056 +01:00 [Debug] Enlist Command
2019-11-30 00:40:43.121 +01:00 [Debug] ExecuteReader took 64 ms
2019-11-30 00:40:43.123 +01:00 [Debug] Opened DbDataReader, open DbDataReaders: 1
2019-11-30 00:40:43.124 +01:00 [Debug] first free id: 1
2019-11-30 00:40:43.125 +01:00 [Debug] Closed DbDataReader, open DbDataReaders :0
2019-11-30 00:40:43.126 +01:00 [Debug] DataReader was closed after 69 ms
2019-11-30 00:40:43.127 +01:00 [Debug] Closed DbCommand, open DbCommands: 0
2019-11-30 00:40:43.128 +01:00 [Debug] generated identifier: "1", using strategy: "NHibernate.Id.IncrementGenerator"
2019-11-30 00:40:43.129 +01:00 [Debug] saving "[NhibernateApp.Models.Book#1]"
2019-11-30 00:40:43.151 +01:00 [Debug] Start Commit
2019-11-30 00:40:43.152 +01:00 [Debug] before transaction completion
2019-11-30 00:40:43.154 +01:00 [Debug] flushing session
2019-11-30 00:40:43.155 +01:00 [Debug] processing flush-time cascades
2019-11-30 00:40:43.157 +01:00 [Debug] dirty checking collections
2019-11-30 00:40:43.159 +01:00 [Debug] Flushing entities and processing referenced collections
2019-11-30 00:40:43.167 +01:00 [Debug] Processing unreferenced collections
2019-11-30 00:40:43.167 +01:00 [Debug] Scheduling collection removes/(re)creates/updates
2019-11-30 00:40:43.168 +01:00 [Debug] Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2019-11-30 00:40:43.169 +01:00 [Debug] Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2019-11-30 00:40:43.170 +01:00 [Debug] listing entities:
2019-11-30 00:40:43.173 +01:00 [Debug] NhibernateApp.Models.Book{'Id'='1', 'Title'='book text matter'}
2019-11-30 00:40:43.173 +01:00 [Debug] executing flush
2019-11-30 00:40:43.175 +01:00 [Debug] Registering flush begin
2019-11-30 00:40:43.178 +01:00 [Debug] Inserting entity: "[NhibernateApp.Models.Book#1]"
2019-11-30 00:40:43.182 +01:00 [Debug] Opened new DbCommand, open DbCommands: 1
2019-11-30 00:40:43.182 +01:00 [Debug] Building an DbCommand object for the SqlString: ["/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (", "?", ", ", "?", ")"]
2019-11-30 00:40:43.183 +01:00 [Debug] Dehydrating entity: "[NhibernateApp.Models.Book#1]"
2019-11-30 00:40:43.184 +01:00 [Debug] binding '"book text matter"' to parameter: 0
2019-11-30 00:40:43.186 +01:00 [Debug] binding '"1"' to parameter: 1
2019-11-30 00:40:43.189 +01:00 [Debug] 
    /* insert NhibernateApp.Models.Book
        */ INSERT 
        INTO
            Books
            (Title, Id) 
        VALUES
            (?p0, ?p1);
    ?p0 = 'book text matter' [Type: String (16:0:0)], ?p1 = 1 [Type: Int32 (0:0:0)]
2019-11-30 00:40:43.189 +01:00 [Debug] Enlist Command
2019-11-30 00:40:43.249 +01:00 [Debug] ExecuteNonQuery took 60 ms
2019-11-30 00:40:43.252 +01:00 [Debug] ExecuteBatch for 1 statements took 0 ms
2019-11-30 00:40:43.252 +01:00 [Debug] Closed DbCommand, open DbCommands: 0
2019-11-30 00:40:43.253 +01:00 [Debug] Registering flush end
2019-11-30 00:40:43.255 +01:00 [Debug] post flush
2019-11-30 00:40:43.314 +01:00 [Debug] DbTransaction Committed
2019-11-30 00:40:43.315 +01:00 [Debug] Aggressively releasing database connection
2019-11-30 00:40:43.316 +01:00 [Debug] Closing connection
2019-11-30 00:40:43.316 +01:00 [Debug] transaction completion
2019-11-30 00:40:43.319 +01:00 [Debug] DbTransaction disposed.
2019-11-30 00:40:43.324 +01:00 [Debug] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2019-11-30 00:40:43.327 +01:00 [Debug] No information found on request to perform content negotiation.
2019-11-30 00:40:43.327 +01:00 [Debug] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2019-11-30 00:40:43.327 +01:00 [Debug] Attempting to select the first formatter in the output formatters list which can write the result.
2019-11-30 00:40:43.328 +01:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2019-11-30 00:40:43.328 +01:00 [Information] Executing ObjectResult, writing value of type '"NhibernateApp.Models.Book"'.
2019-11-30 00:40:43.365 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 579.533ms
2019-11-30 00:40:43.367 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 00:40:43.369 +01:00 [Debug] [session-id=333db54d-38bd-4006-8804-26c77cbdc42b] running ISession.Dispose()
2019-11-30 00:40:43.370 +01:00 [Debug] [session-id=333db54d-38bd-4006-8804-26c77cbdc42b] executing real Dispose(True)
2019-11-30 00:40:43.370 +01:00 [Debug] closing session
2019-11-30 00:40:43.371 +01:00 [Debug] running BatcherImpl.Dispose(true)
2019-11-30 00:40:43.377 +01:00 [Information] Request finished in 757.4615ms 200 application/json; charset=utf-8
2019-11-30 23:00:06.384 +01:00 [Information] Starting up
2019-11-30 23:00:08.021 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:00:08.056 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:00:08.058 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:00:08.061 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:00:08.061 +01:00 [Information] Using reflection optimizer
2019-11-30 23:00:08.118 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:00:08.126 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:00:08.144 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:00:08.148 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:00:08.160 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:08.173 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:08.176 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:08.249 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:09.714 +01:00 [Debug] Closing connection
2019-11-30 23:00:09.725 +01:00 [Information] checking mappings queue
2019-11-30 23:00:09.726 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:09.726 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:09.726 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:09.729 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:09.748 +01:00 [Information] checking mappings queue
2019-11-30 23:00:09.748 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:09.748 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:09.748 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:09.748 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:09.752 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.754 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.758 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.759 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.759 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.760 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.760 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.760 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.761 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:09.763 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:09.763 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:09.920 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:00:10.041 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:00:10.140 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:00:10.246 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:00:10.368 +01:00 [Debug] Closing connection
2019-11-30 23:00:10.368 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:00:10.369 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:10.370 +01:00 [Information] checking mappings queue
2019-11-30 23:00:10.370 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:10.370 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:10.370 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:10.370 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:10.386 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:10.402 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:10.463 +01:00 [Information] Using dialect defined converter
2019-11-30 23:00:10.464 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:00:10.464 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:10.464 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:00:10.465 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:00:10.466 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:00:10.466 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:00:10.466 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:00:10.466 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:00:10.466 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:00:10.466 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:00:10.467 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:00:10.469 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:00:10.469 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:00:10.469 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:00:10.469 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:00:10.470 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:00:10.470 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:00:10.470 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:00:10.470 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:00:10.470 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:00:10.472 +01:00 [Debug] Track session id: enabled
2019-11-30 23:00:10.485 +01:00 [Information] building session factory
2019-11-30 23:00:10.485 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:00:10.486 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:00:10.487 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:10.642 +01:00 [Debug] Closing connection
2019-11-30 23:00:10.643 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:00:10.643 +01:00 [Debug] registered: "f9f8cd21130e47a5ac94d90e1dc7232c"("unnamed")
2019-11-30 23:00:10.644 +01:00 [Information] no name configured
2019-11-30 23:00:10.696 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:00:10.710 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:00:10.731 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:00:10.732 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:00:10.767 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:00:10.769 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:00:10.771 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:00:10.772 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:00:10.772 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:00:10.772 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:00:10.808 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:10.808 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:10.808 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:10.808 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:10.808 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:10.810 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:10.811 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:10.811 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:00:10.811 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:00:10.811 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:00:10.811 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:00:10.811 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:00:10.812 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:10.812 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:10.812 +01:00 [Debug] Instantiated session factory
2019-11-30 23:00:10.813 +01:00 [Information] Running schema validator
2019-11-30 23:00:10.813 +01:00 [Information] fetching database metadata
2019-11-30 23:00:10.813 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:10.971 +01:00 [Information] checking mappings queue
2019-11-30 23:00:10.971 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:10.971 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:10.971 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:10.971 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:11.166 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:00:11.167 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:00:11.347 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:00:11.348 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:00:11.350 +01:00 [Debug] Closing connection
2019-11-30 23:00:11.353 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:00:11.353 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:00:11.407 +01:00 [Fatal] Application start-up failed
System.ArgumentException: The type 'NHibernate.ISessionBuilder' is not assignable to service 'NHibernate.ISessionFactory'.
   at Autofac.Builder.RegistrationBuilder.CreateRegistration(Guid id, RegistrationData data, IInstanceActivator activator, Service[] services, IComponentRegistration target)
   at Autofac.Builder.RegistrationBuilder.CreateRegistration[TLimit,TActivatorData,TSingleRegistrationStyle](IRegistrationBuilder`3 builder)
   at Autofac.Builder.RegistrationBuilder.RegisterSingleComponent[TLimit,TActivatorData,TSingleRegistrationStyle](IComponentRegistry cr, IRegistrationBuilder`3 builder)
   at Autofac.RegistrationExtensions.<>c__DisplayClass6_0`1.<Register>b__0(IComponentRegistry cr)
   at Autofac.ContainerBuilder.Build(IComponentRegistry componentRegistry, Boolean excludeDefaultModules)
   at Autofac.ContainerBuilder.Build(ContainerBuildOptions options)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProviderFactory.CreateServiceProvider(ContainerBuilder containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at NhibernateApp.Program.Main(String[] args) in C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp\Program.cs:line 33
2019-11-30 23:00:26.393 +01:00 [Information] Starting up
2019-11-30 23:00:27.032 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:00:27.052 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:00:27.054 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:00:27.057 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:00:27.057 +01:00 [Information] Using reflection optimizer
2019-11-30 23:00:27.096 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:00:27.104 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:00:27.128 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:00:27.131 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:00:27.132 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:00:27.143 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:27.155 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:27.157 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:27.174 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:28.473 +01:00 [Debug] Closing connection
2019-11-30 23:00:28.482 +01:00 [Information] checking mappings queue
2019-11-30 23:00:28.483 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:28.483 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:28.483 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:28.487 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:28.515 +01:00 [Information] checking mappings queue
2019-11-30 23:00:28.515 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:28.515 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:28.515 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:28.515 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:28.521 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.522 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.526 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.527 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.527 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.527 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.528 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.528 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.529 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:28.531 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:28.532 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:28.693 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:00:28.804 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:00:28.905 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:00:29.018 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:00:29.134 +01:00 [Debug] Closing connection
2019-11-30 23:00:29.135 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:00:29.137 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:29.138 +01:00 [Information] checking mappings queue
2019-11-30 23:00:29.138 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:29.138 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:29.138 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:29.138 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:29.151 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:29.163 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:00:29.209 +01:00 [Information] Using dialect defined converter
2019-11-30 23:00:29.210 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:00:29.210 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:00:29.211 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:00:29.213 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:00:29.213 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:00:29.213 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:00:29.213 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:00:29.214 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:00:29.214 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:00:29.214 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:00:29.215 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:00:29.217 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:00:29.217 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:00:29.218 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:00:29.218 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:00:29.218 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:00:29.218 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:00:29.219 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:00:29.219 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:00:29.219 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:00:29.220 +01:00 [Debug] Track session id: enabled
2019-11-30 23:00:29.231 +01:00 [Information] building session factory
2019-11-30 23:00:29.232 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:00:29.233 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:00:29.234 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:29.400 +01:00 [Debug] Closing connection
2019-11-30 23:00:29.402 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:00:29.402 +01:00 [Debug] registered: "5027d57cbd034269a50421c917b4743e"("unnamed")
2019-11-30 23:00:29.402 +01:00 [Information] no name configured
2019-11-30 23:00:29.451 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:00:29.465 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:00:29.493 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:00:29.494 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:00:29.530 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:00:29.532 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:00:29.534 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:00:29.534 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:00:29.534 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:00:29.534 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:00:29.565 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:29.565 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:29.565 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:29.565 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:29.566 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:00:29.568 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:29.568 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:00:29.570 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:00:29.570 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:00:29.570 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:00:29.570 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:00:29.570 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:00:29.570 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:00:29.570 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:29.571 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:00:29.571 +01:00 [Debug] Instantiated session factory
2019-11-30 23:00:29.572 +01:00 [Information] Running schema validator
2019-11-30 23:00:29.573 +01:00 [Information] fetching database metadata
2019-11-30 23:00:29.573 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:00:29.734 +01:00 [Information] checking mappings queue
2019-11-30 23:00:29.734 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:00:29.734 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:00:29.734 +01:00 [Information] processing foreign key constraints
2019-11-30 23:00:29.734 +01:00 [Information] processing filters (second pass)
2019-11-30 23:00:29.936 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:00:29.938 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:00:30.124 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:00:30.125 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:00:30.126 +01:00 [Debug] Closing connection
2019-11-30 23:00:30.130 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:00:30.131 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:00:30.175 +01:00 [Fatal] Application start-up failed
System.ArgumentException: The type 'NHibernate.ISessionBuilder' is not assignable to service 'NHibernate.ISessionFactory'.
   at Autofac.Builder.RegistrationBuilder.CreateRegistration(Guid id, RegistrationData data, IInstanceActivator activator, Service[] services, IComponentRegistration target)
   at Autofac.Builder.RegistrationBuilder.CreateRegistration[TLimit,TActivatorData,TSingleRegistrationStyle](IRegistrationBuilder`3 builder)
   at Autofac.Builder.RegistrationBuilder.RegisterSingleComponent[TLimit,TActivatorData,TSingleRegistrationStyle](IComponentRegistry cr, IRegistrationBuilder`3 builder)
   at Autofac.RegistrationExtensions.<>c__DisplayClass6_0`1.<Register>b__0(IComponentRegistry cr)
   at Autofac.ContainerBuilder.Build(IComponentRegistry componentRegistry, Boolean excludeDefaultModules)
   at Autofac.ContainerBuilder.Build(ContainerBuildOptions options)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProviderFactory.CreateServiceProvider(ContainerBuilder containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at NhibernateApp.Program.Main(String[] args) in C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp\Program.cs:line 33
2019-11-30 23:01:25.736 +01:00 [Information] Starting up
2019-11-30 23:01:26.448 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:01:26.471 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:01:26.473 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:01:26.475 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:01:26.475 +01:00 [Information] Using reflection optimizer
2019-11-30 23:01:26.540 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:01:26.549 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:01:26.565 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:01:26.568 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:01:26.569 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:01:26.578 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:26.589 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:26.591 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:26.606 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:27.852 +01:00 [Debug] Closing connection
2019-11-30 23:01:27.861 +01:00 [Information] checking mappings queue
2019-11-30 23:01:27.861 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:27.861 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:27.861 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:27.866 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:27.884 +01:00 [Information] checking mappings queue
2019-11-30 23:01:27.885 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:27.885 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:27.885 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:27.885 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:27.890 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.891 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.901 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.901 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.902 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.902 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.902 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.903 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.903 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:27.904 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:27.905 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:28.060 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:01:28.239 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:01:28.361 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:01:28.469 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:01:28.633 +01:00 [Debug] Closing connection
2019-11-30 23:01:28.634 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:01:28.635 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:28.636 +01:00 [Information] checking mappings queue
2019-11-30 23:01:28.636 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:28.636 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:28.636 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:28.636 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:28.653 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:28.667 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:28.714 +01:00 [Information] Using dialect defined converter
2019-11-30 23:01:28.715 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:01:28.715 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:28.716 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:01:28.718 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:01:28.718 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:01:28.718 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:01:28.718 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:01:28.718 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:01:28.718 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:01:28.718 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:01:28.719 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:01:28.720 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:01:28.720 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:01:28.721 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:01:28.721 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:01:28.721 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:01:28.721 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:01:28.721 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:01:28.722 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:01:28.722 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:01:28.723 +01:00 [Debug] Track session id: enabled
2019-11-30 23:01:28.734 +01:00 [Information] building session factory
2019-11-30 23:01:28.734 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:01:28.735 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:01:28.736 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:28.889 +01:00 [Debug] Closing connection
2019-11-30 23:01:28.890 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:01:28.891 +01:00 [Debug] registered: "0ffe63ee22a94bdfaa656c1457060e52"("unnamed")
2019-11-30 23:01:28.891 +01:00 [Information] no name configured
2019-11-30 23:01:28.942 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:01:28.955 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:01:28.976 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:01:28.976 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:01:29.011 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:01:29.013 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:01:29.015 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:01:29.015 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:01:29.015 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:01:29.015 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:01:29.060 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:29.060 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:29.060 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:29.061 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:29.061 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:29.065 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:29.065 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:29.067 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:01:29.067 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:01:29.067 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:01:29.067 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:01:29.067 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:01:29.067 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:01:29.067 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:29.067 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:29.067 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:29.068 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:29.068 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:29.068 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:29.068 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:29.068 +01:00 [Debug] Instantiated session factory
2019-11-30 23:01:29.069 +01:00 [Information] Running schema validator
2019-11-30 23:01:29.070 +01:00 [Information] fetching database metadata
2019-11-30 23:01:29.070 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:29.227 +01:00 [Information] checking mappings queue
2019-11-30 23:01:29.227 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:29.227 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:29.227 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:29.227 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:29.836 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:01:29.837 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:01:30.019 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:01:30.019 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:01:30.020 +01:00 [Debug] Closing connection
2019-11-30 23:01:30.025 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:01:30.025 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:01:30.069 +01:00 [Fatal] Application start-up failed
System.ArgumentException: The type 'NHibernate.ISessionBuilder' is not assignable to service 'NHibernate.ISessionFactory'.
   at Autofac.Builder.RegistrationBuilder.CreateRegistration(Guid id, RegistrationData data, IInstanceActivator activator, Service[] services, IComponentRegistration target)
   at Autofac.Builder.RegistrationBuilder.CreateRegistration[TLimit,TActivatorData,TSingleRegistrationStyle](IRegistrationBuilder`3 builder)
   at Autofac.Builder.RegistrationBuilder.RegisterSingleComponent[TLimit,TActivatorData,TSingleRegistrationStyle](IComponentRegistry cr, IRegistrationBuilder`3 builder)
   at Autofac.RegistrationExtensions.<>c__DisplayClass6_0`1.<Register>b__0(IComponentRegistry cr)
   at Autofac.ContainerBuilder.Build(IComponentRegistry componentRegistry, Boolean excludeDefaultModules)
   at Autofac.ContainerBuilder.Build(ContainerBuildOptions options)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProviderFactory.CreateServiceProvider(ContainerBuilder containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at NhibernateApp.Program.Main(String[] args) in C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp\Program.cs:line 33
2019-11-30 23:01:37.334 +01:00 [Information] Starting up
2019-11-30 23:01:38.156 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:01:38.174 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:01:38.176 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:01:38.179 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:01:38.179 +01:00 [Information] Using reflection optimizer
2019-11-30 23:01:38.220 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:01:38.230 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:01:38.247 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:01:38.251 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:01:38.261 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:38.271 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:38.273 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:38.288 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:39.547 +01:00 [Debug] Closing connection
2019-11-30 23:01:39.557 +01:00 [Information] checking mappings queue
2019-11-30 23:01:39.557 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:39.557 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:39.557 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:39.560 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:39.576 +01:00 [Information] checking mappings queue
2019-11-30 23:01:39.577 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:39.577 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:39.577 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:39.577 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:39.583 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.584 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.588 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.588 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.588 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.589 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.589 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.589 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.590 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:39.591 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:39.591 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:39.747 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:01:39.859 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:01:39.956 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:01:40.068 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:01:40.178 +01:00 [Debug] Closing connection
2019-11-30 23:01:40.179 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:01:40.180 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:40.181 +01:00 [Information] checking mappings queue
2019-11-30 23:01:40.181 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:40.181 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:40.181 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:40.181 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:40.192 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:40.215 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:01:40.261 +01:00 [Information] Using dialect defined converter
2019-11-30 23:01:40.262 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:01:40.262 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:01:40.262 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:01:40.264 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:01:40.264 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:01:40.264 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:01:40.264 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:01:40.264 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:01:40.264 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:01:40.265 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:01:40.266 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:01:40.268 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:01:40.268 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:01:40.269 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:01:40.269 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:01:40.269 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:01:40.269 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:01:40.269 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:01:40.269 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:01:40.270 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:01:40.271 +01:00 [Debug] Track session id: enabled
2019-11-30 23:01:40.286 +01:00 [Information] building session factory
2019-11-30 23:01:40.286 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:01:40.287 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:01:40.288 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:40.442 +01:00 [Debug] Closing connection
2019-11-30 23:01:40.444 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:01:40.445 +01:00 [Debug] registered: "5d19bdc9c31547738db8f79f66e56231"("unnamed")
2019-11-30 23:01:40.445 +01:00 [Information] no name configured
2019-11-30 23:01:40.493 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:01:40.507 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:01:40.537 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:01:40.538 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:01:40.587 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:01:40.589 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:01:40.590 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:01:40.590 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:01:40.590 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:01:40.591 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:01:40.623 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:40.623 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:40.624 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:40.624 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:40.624 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:01:40.626 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:40.626 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:01:40.627 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:01:40.627 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:01:40.627 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:01:40.628 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:01:40.628 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:01:40.628 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:01:40.628 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:40.628 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:40.628 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:40.628 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:40.628 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:01:40.629 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:40.629 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:01:40.629 +01:00 [Debug] Instantiated session factory
2019-11-30 23:01:40.630 +01:00 [Information] Running schema validator
2019-11-30 23:01:40.630 +01:00 [Information] fetching database metadata
2019-11-30 23:01:40.630 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:01:40.785 +01:00 [Information] checking mappings queue
2019-11-30 23:01:40.785 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:01:40.785 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:01:40.785 +01:00 [Information] processing foreign key constraints
2019-11-30 23:01:40.785 +01:00 [Information] processing filters (second pass)
2019-11-30 23:01:40.977 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:01:40.978 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:01:41.157 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:01:41.157 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:01:41.157 +01:00 [Debug] Closing connection
2019-11-30 23:01:41.163 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:01:41.163 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:02:31.512 +01:00 [Information] Starting up
2019-11-30 23:02:32.265 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:02:32.293 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:02:32.295 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:02:32.297 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:02:32.298 +01:00 [Information] Using reflection optimizer
2019-11-30 23:02:32.336 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:02:32.350 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:02:32.400 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:02:32.413 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:02:32.413 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:02:32.414 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:02:32.433 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:32.453 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:32.454 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:02:32.472 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:02:33.785 +01:00 [Debug] Closing connection
2019-11-30 23:02:33.795 +01:00 [Information] checking mappings queue
2019-11-30 23:02:33.795 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:02:33.795 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:02:33.795 +01:00 [Information] processing foreign key constraints
2019-11-30 23:02:33.797 +01:00 [Information] processing filters (second pass)
2019-11-30 23:02:33.813 +01:00 [Information] checking mappings queue
2019-11-30 23:02:33.813 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:02:33.813 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:02:33.813 +01:00 [Information] processing foreign key constraints
2019-11-30 23:02:33.813 +01:00 [Information] processing filters (second pass)
2019-11-30 23:02:33.818 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.819 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.823 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.823 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.824 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.824 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.824 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.825 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.825 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:33.827 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:02:33.827 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:02:33.987 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:02:34.107 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:02:34.207 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:02:34.318 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:02:34.431 +01:00 [Debug] Closing connection
2019-11-30 23:02:34.432 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:02:34.433 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:34.433 +01:00 [Information] checking mappings queue
2019-11-30 23:02:34.434 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:02:34.434 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:02:34.434 +01:00 [Information] processing foreign key constraints
2019-11-30 23:02:34.434 +01:00 [Information] processing filters (second pass)
2019-11-30 23:02:34.445 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:34.458 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:02:34.504 +01:00 [Information] Using dialect defined converter
2019-11-30 23:02:34.504 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:02:34.504 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:02:34.505 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:02:34.506 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:02:34.506 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:02:34.506 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:02:34.506 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:02:34.506 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:02:34.507 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:02:34.507 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:02:34.508 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:02:34.509 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:02:34.510 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:02:34.510 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:02:34.510 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:02:34.510 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:02:34.510 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:02:34.511 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:02:34.511 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:02:34.511 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:02:34.512 +01:00 [Debug] Track session id: enabled
2019-11-30 23:02:34.524 +01:00 [Information] building session factory
2019-11-30 23:02:34.524 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:02:34.525 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:02:34.526 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:02:34.684 +01:00 [Debug] Closing connection
2019-11-30 23:02:34.686 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:02:34.686 +01:00 [Debug] registered: "c952b3598b8a42a6a1bf9f6899c152bc"("unnamed")
2019-11-30 23:02:34.686 +01:00 [Information] no name configured
2019-11-30 23:02:34.735 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:02:34.748 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:02:34.769 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:02:34.769 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:02:34.808 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:02:34.810 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:02:34.812 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:02:34.812 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:02:34.812 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:02:34.812 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:02:34.845 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:02:34.845 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:02:34.845 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:02:34.845 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:02:34.846 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:02:34.848 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:02:34.848 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:02:34.848 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:02:34.848 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:02:34.848 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:02:34.848 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:02:34.849 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:02:34.849 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:02:34.849 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:02:34.850 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:02:34.850 +01:00 [Debug] Instantiated session factory
2019-11-30 23:02:34.851 +01:00 [Information] Running schema validator
2019-11-30 23:02:34.851 +01:00 [Information] fetching database metadata
2019-11-30 23:02:34.851 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:02:35.011 +01:00 [Information] checking mappings queue
2019-11-30 23:02:35.011 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:02:35.011 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:02:35.011 +01:00 [Information] processing foreign key constraints
2019-11-30 23:02:35.011 +01:00 [Information] processing filters (second pass)
2019-11-30 23:02:35.211 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:02:35.212 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:02:35.434 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:02:35.434 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:02:35.435 +01:00 [Debug] Closing connection
2019-11-30 23:02:35.439 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:02:35.439 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:02:46.208 +01:00 [Debug] Hosting starting
2019-11-30 23:02:46.251 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:02:46.275 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:02:46.288 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:02:46.301 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:02:46.312 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:02:46.314 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:02:46.316 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:02:46.320 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:02:46.324 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:02:46.328 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:02:46.329 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:02:46.647 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:02:46.647 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:02:46.647 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:02:46.648 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:02:46.648 +01:00 [Debug] Hosting started
2019-11-30 23:02:46.724 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:02:46.728 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:02:46.961 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:02:47.002 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:02:47.006 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:02:47.007 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:47.008 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:47.020 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:02:47.038 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:02:47.039 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:02:47.039 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:02:47.040 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:02:47.040 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:02:47.041 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:02:47.042 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:02:47.054 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 8.8674ms
2019-11-30 23:02:47.055 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:47.056 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:02:47.239 +01:00 [Information] Request finished in 520.9902000000001ms 500 text/html; charset=utf-8
2019-11-30 23:02:56.017 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:02:56.020 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:02:56.023 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:02:56.023 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:02:56.023 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:56.023 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:56.024 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:02:56.024 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:02:56.024 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:02:56.024 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:02:56.024 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:02:56.025 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:02:56.025 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:02:56.027 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 2.6380000000000003ms
2019-11-30 23:02:56.028 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:56.029 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:02:56.044 +01:00 [Information] Request finished in 27.108700000000002ms 500 text/html; charset=utf-8
2019-11-30 23:02:59.511 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:02:59.514 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:02:59.514 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:02:59.515 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:02:59.517 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:59.518 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:59.519 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:02:59.520 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:02:59.521 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:02:59.521 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:02:59.522 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:02:59.522 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:02:59.522 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:02:59.525 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 3.1003000000000003ms
2019-11-30 23:02:59.526 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:02:59.528 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:02:59.553 +01:00 [Information] Request finished in 42.7802ms 500 text/html; charset=utf-8
2019-11-30 23:03:09.596 +01:00 [Information] Starting up
2019-11-30 23:03:10.322 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:03:10.341 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:03:10.343 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:03:10.345 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:03:10.346 +01:00 [Information] Using reflection optimizer
2019-11-30 23:03:10.389 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:03:10.397 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:03:10.421 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:03:10.429 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:03:10.430 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:03:10.440 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:10.457 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:10.459 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:03:10.476 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:03:11.744 +01:00 [Debug] Closing connection
2019-11-30 23:03:11.755 +01:00 [Information] checking mappings queue
2019-11-30 23:03:11.755 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:03:11.755 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:03:11.756 +01:00 [Information] processing foreign key constraints
2019-11-30 23:03:11.758 +01:00 [Information] processing filters (second pass)
2019-11-30 23:03:11.773 +01:00 [Information] checking mappings queue
2019-11-30 23:03:11.773 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:03:11.773 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:03:11.773 +01:00 [Information] processing foreign key constraints
2019-11-30 23:03:11.774 +01:00 [Information] processing filters (second pass)
2019-11-30 23:03:11.779 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.780 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.784 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.785 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.785 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.785 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.786 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.786 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.787 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:11.789 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:03:11.789 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:03:11.944 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:03:12.058 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:03:12.161 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:03:12.338 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:03:12.488 +01:00 [Debug] Closing connection
2019-11-30 23:03:12.489 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:03:12.491 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:12.491 +01:00 [Information] checking mappings queue
2019-11-30 23:03:12.491 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:03:12.492 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:03:12.492 +01:00 [Information] processing foreign key constraints
2019-11-30 23:03:12.492 +01:00 [Information] processing filters (second pass)
2019-11-30 23:03:12.505 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:12.521 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:03:12.587 +01:00 [Information] Using dialect defined converter
2019-11-30 23:03:12.587 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:03:12.587 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:03:12.588 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:03:12.589 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:03:12.589 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:03:12.589 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:03:12.589 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:03:12.589 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:03:12.589 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:03:12.590 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:03:12.591 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:03:12.592 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:03:12.592 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:03:12.592 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:03:12.593 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:03:12.593 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:03:12.593 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:03:12.593 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:03:12.594 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:03:12.594 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:03:12.596 +01:00 [Debug] Track session id: enabled
2019-11-30 23:03:12.608 +01:00 [Information] building session factory
2019-11-30 23:03:12.608 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:03:12.609 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:03:12.610 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:03:12.767 +01:00 [Debug] Closing connection
2019-11-30 23:03:12.769 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:03:12.769 +01:00 [Debug] registered: "5163bb8817eb470a8b990db92b5c5570"("unnamed")
2019-11-30 23:03:12.769 +01:00 [Information] no name configured
2019-11-30 23:03:12.820 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:03:12.835 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:03:12.857 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:03:12.857 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:03:12.892 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:03:12.896 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:03:12.899 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:03:12.899 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:03:12.899 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:03:12.899 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:03:12.939 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:03:12.940 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:03:12.940 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:03:12.940 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:03:12.940 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:03:12.943 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:03:12.943 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:03:12.944 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:03:12.944 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:03:12.944 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:03:12.944 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:03:12.944 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:03:12.944 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:03:12.944 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:03:12.945 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:03:12.946 +01:00 [Debug] Instantiated session factory
2019-11-30 23:03:12.946 +01:00 [Information] Running schema validator
2019-11-30 23:03:12.946 +01:00 [Information] fetching database metadata
2019-11-30 23:03:12.947 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:03:13.104 +01:00 [Information] checking mappings queue
2019-11-30 23:03:13.104 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:03:13.104 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:03:13.104 +01:00 [Information] processing foreign key constraints
2019-11-30 23:03:13.105 +01:00 [Information] processing filters (second pass)
2019-11-30 23:03:13.297 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:03:13.298 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:03:13.489 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:03:13.490 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:03:13.491 +01:00 [Debug] Closing connection
2019-11-30 23:03:13.495 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:03:13.496 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:03:20.386 +01:00 [Debug] Hosting starting
2019-11-30 23:03:20.430 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:03:23.549 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:03:23.560 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:03:23.570 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:03:23.578 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:03:23.580 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:03:23.583 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:03:23.587 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:03:23.589 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:03:23.592 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:03:23.593 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:03:32.550 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:03:32.550 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:03:32.550 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:03:32.551 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:03:32.551 +01:00 [Debug] Hosting started
2019-11-30 23:03:32.586 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:03:32.590 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:03:32.678 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:03:32.719 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:03:32.723 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:03:32.724 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:32.724 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:32.734 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:03:32.755 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:03:32.755 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:03:32.756 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:03:32.756 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:03:32.756 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:03:32.756 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:03:32.757 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:03:32.769 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 8.4978ms
2019-11-30 23:03:32.771 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:32.772 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:03:32.877 +01:00 [Information] Request finished in 293.18440000000004ms 500 text/html; charset=utf-8
2019-11-30 23:03:57.060 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:03:57.061 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:03:57.064 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:03:57.064 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:03:57.064 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:57.064 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:57.065 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:03:57.066 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:03:57.066 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:03:57.066 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:03:57.066 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:03:57.066 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:03:57.066 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:03:57.069 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 2.5152ms
2019-11-30 23:03:57.069 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:03:57.070 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:03:57.087 +01:00 [Information] Request finished in 27.6046ms 500 text/html; charset=utf-8
2019-11-30 23:04:01.661 +01:00 [Information] Starting up
2019-11-30 23:04:02.416 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:04:02.446 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:04:02.450 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:04:02.455 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:04:02.455 +01:00 [Information] Using reflection optimizer
2019-11-30 23:04:02.548 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:04:02.561 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:04:02.586 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:04:02.590 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:04:02.591 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:04:02.609 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:02.627 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:02.629 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:02.647 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:03.981 +01:00 [Debug] Closing connection
2019-11-30 23:04:03.991 +01:00 [Information] checking mappings queue
2019-11-30 23:04:03.992 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:03.992 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:03.992 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:03.995 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:04.010 +01:00 [Information] checking mappings queue
2019-11-30 23:04:04.010 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:04.010 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:04.010 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:04.010 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:04.015 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.016 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.020 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.021 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.021 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.021 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.022 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.022 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.022 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.024 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:04.024 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:04.182 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:04:04.297 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:04:04.406 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:04.515 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:04.632 +01:00 [Debug] Closing connection
2019-11-30 23:04:04.632 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:04:04.634 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.634 +01:00 [Information] checking mappings queue
2019-11-30 23:04:04.634 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:04.635 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:04.635 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:04.635 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:04.648 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.660 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:04.708 +01:00 [Information] Using dialect defined converter
2019-11-30 23:04:04.709 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:04:04.709 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:04.710 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:04:04.710 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:04:04.711 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:04:04.711 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:04:04.711 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:04:04.711 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:04:04.711 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:04:04.711 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:04:04.712 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:04:04.714 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:04:04.715 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:04.715 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:04:04.715 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:04:04.715 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:04:04.715 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:04:04.716 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:04.716 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:04:04.716 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:04:04.718 +01:00 [Debug] Track session id: enabled
2019-11-30 23:04:04.732 +01:00 [Information] building session factory
2019-11-30 23:04:04.732 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:04:04.734 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:04:04.735 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:04.893 +01:00 [Debug] Closing connection
2019-11-30 23:04:04.895 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:04:04.895 +01:00 [Debug] registered: "1b4b48cedb1b4bdebdb9366d83a9f639"("unnamed")
2019-11-30 23:04:04.895 +01:00 [Information] no name configured
2019-11-30 23:04:04.949 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:04.963 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:04:04.983 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:04.983 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:04:05.017 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:05.020 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:04:05.021 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:04:05.022 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:04:05.022 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:04:05.022 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:04:05.054 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:05.054 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:05.055 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:05.055 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:05.055 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:05.057 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:05.057 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:05.058 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:05.058 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:04:05.058 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:04:05.058 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:04:05.058 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:04:05.058 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:04:05.058 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:05.059 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:05.059 +01:00 [Debug] Instantiated session factory
2019-11-30 23:04:05.061 +01:00 [Information] Running schema validator
2019-11-30 23:04:05.061 +01:00 [Information] fetching database metadata
2019-11-30 23:04:05.062 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:05.219 +01:00 [Information] checking mappings queue
2019-11-30 23:04:05.219 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:05.219 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:05.219 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:05.219 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:05.842 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:04:05.843 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:04:06.212 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:04:06.213 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:04:06.213 +01:00 [Debug] Closing connection
2019-11-30 23:04:06.217 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:04:06.217 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:04:07.095 +01:00 [Debug] Hosting starting
2019-11-30 23:04:07.134 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:04:07.167 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:04:07.177 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:04:07.188 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:04:07.196 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:07.198 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:04:07.200 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:07.203 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:04:07.205 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:04:07.209 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:04:07.210 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:04:07.374 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:04:07.375 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:04:07.375 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:04:07.376 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:04:07.376 +01:00 [Debug] Hosting started
2019-11-30 23:04:07.411 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:04:07.414 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:04:07.480 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:04:07.518 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:04:07.523 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:04:07.524 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:07.524 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:07.533 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:04:07.547 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:04:07.548 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:04:07.548 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:04:07.548 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:04:07.549 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:04:07.549 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:04:07.550 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:04:07.562 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 8.1454ms
2019-11-30 23:04:07.564 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:07.565 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:04:07.674 +01:00 [Information] Request finished in 265.3078ms 500 text/html; charset=utf-8
2019-11-30 23:04:22.482 +01:00 [Information] Starting up
2019-11-30 23:04:23.166 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:04:23.186 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:04:23.189 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:04:23.191 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:04:23.191 +01:00 [Information] Using reflection optimizer
2019-11-30 23:04:23.232 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:04:23.242 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:04:23.259 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:04:23.265 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:04:23.265 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:04:23.266 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:04:23.277 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:23.288 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:23.290 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:23.304 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:24.577 +01:00 [Debug] Closing connection
2019-11-30 23:04:24.587 +01:00 [Information] checking mappings queue
2019-11-30 23:04:24.588 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:24.588 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:24.588 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:24.590 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:24.607 +01:00 [Information] checking mappings queue
2019-11-30 23:04:24.607 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:24.607 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:24.607 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:24.607 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:24.612 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.613 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.618 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.618 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.618 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.619 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.619 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.619 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.620 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:24.621 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:24.621 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:24.783 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:04:24.893 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:04:24.998 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:25.110 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:25.223 +01:00 [Debug] Closing connection
2019-11-30 23:04:25.223 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:04:25.224 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:25.225 +01:00 [Information] checking mappings queue
2019-11-30 23:04:25.225 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:25.225 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:25.225 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:25.225 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:25.238 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:25.250 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:25.298 +01:00 [Information] Using dialect defined converter
2019-11-30 23:04:25.299 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:04:25.299 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:25.300 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:04:25.301 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:04:25.301 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:04:25.301 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:04:25.301 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:04:25.302 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:04:25.302 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:04:25.302 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:04:25.303 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:04:25.305 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:04:25.306 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:25.306 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:04:25.306 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:04:25.307 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:04:25.307 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:04:25.307 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:25.307 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:04:25.308 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:04:25.309 +01:00 [Debug] Track session id: enabled
2019-11-30 23:04:25.320 +01:00 [Information] building session factory
2019-11-30 23:04:25.320 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:04:25.322 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:04:25.323 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:25.483 +01:00 [Debug] Closing connection
2019-11-30 23:04:25.484 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:04:25.485 +01:00 [Debug] registered: "1c56bd25c9dc42d9ad7f822a1ec33079"("unnamed")
2019-11-30 23:04:25.485 +01:00 [Information] no name configured
2019-11-30 23:04:25.536 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:25.550 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:04:25.574 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:25.574 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:04:25.614 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:25.616 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:04:25.617 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:04:25.617 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:04:25.617 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:04:25.617 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:04:25.649 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:25.650 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:25.650 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:25.650 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:25.650 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:25.654 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:25.654 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:25.655 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:25.655 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:04:25.655 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:04:25.655 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:04:25.655 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:04:25.655 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:04:25.655 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:25.655 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:25.656 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:25.656 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:25.656 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:25.656 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:25.657 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:25.657 +01:00 [Debug] Instantiated session factory
2019-11-30 23:04:25.658 +01:00 [Information] Running schema validator
2019-11-30 23:04:25.658 +01:00 [Information] fetching database metadata
2019-11-30 23:04:25.658 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:25.820 +01:00 [Information] checking mappings queue
2019-11-30 23:04:25.820 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:25.820 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:25.820 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:25.821 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:26.014 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:04:26.015 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:04:26.204 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:04:26.205 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:04:26.206 +01:00 [Debug] Closing connection
2019-11-30 23:04:26.210 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:04:26.210 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:04:27.224 +01:00 [Debug] Hosting starting
2019-11-30 23:04:27.251 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:04:27.277 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:04:27.284 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:04:27.293 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:04:27.301 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:27.304 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:04:27.306 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:27.310 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:04:27.312 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:04:27.315 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:04:27.316 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:04:27.464 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:04:27.465 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:04:27.465 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:04:27.465 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:04:27.465 +01:00 [Debug] Hosting started
2019-11-30 23:04:27.501 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:04:27.504 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:04:27.585 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:04:27.631 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:04:27.637 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:04:27.638 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:27.639 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:27.650 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:04:27.668 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:04:27.669 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:04:27.669 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:04:27.670 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:04:27.671 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:04:27.672 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:04:27.675 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:04:44.893 +01:00 [Information] Starting up
2019-11-30 23:04:45.735 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:04:45.756 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:04:45.758 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:04:45.763 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:04:45.764 +01:00 [Information] Using reflection optimizer
2019-11-30 23:04:45.806 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:04:45.818 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:04:45.841 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:04:45.845 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:04:45.845 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:04:45.846 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:04:45.846 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:04:45.846 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:04:45.846 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:04:45.846 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:04:45.847 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:04:45.860 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:45.874 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:45.876 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:45.892 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:47.188 +01:00 [Debug] Closing connection
2019-11-30 23:04:47.197 +01:00 [Information] checking mappings queue
2019-11-30 23:04:47.198 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:47.198 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:47.198 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:47.201 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:47.218 +01:00 [Information] checking mappings queue
2019-11-30 23:04:47.218 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:47.218 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:47.218 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:47.218 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:47.223 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.224 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.228 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.229 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.231 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.232 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.233 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.234 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.234 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.238 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:47.238 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:47.401 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:04:47.515 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:04:47.627 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:47.795 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:04:47.910 +01:00 [Debug] Closing connection
2019-11-30 23:04:47.910 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:04:47.911 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.913 +01:00 [Information] checking mappings queue
2019-11-30 23:04:47.913 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:47.914 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:47.914 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:47.914 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:47.927 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.940 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:04:47.988 +01:00 [Information] Using dialect defined converter
2019-11-30 23:04:47.989 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:04:47.989 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:04:47.990 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:04:47.990 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:04:47.990 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:04:47.990 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:04:47.990 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:04:47.990 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:04:47.990 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:04:47.991 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:04:47.991 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:04:47.992 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:04:47.992 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:47.993 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:04:47.993 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:04:47.993 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:04:47.993 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:04:47.993 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:04:47.993 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:04:47.993 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:04:47.994 +01:00 [Debug] Track session id: enabled
2019-11-30 23:04:48.009 +01:00 [Information] building session factory
2019-11-30 23:04:48.010 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:04:48.011 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:04:48.011 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:48.179 +01:00 [Debug] Closing connection
2019-11-30 23:04:48.180 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:04:48.180 +01:00 [Debug] registered: "45057067ec3344359f7704b5a8619633"("unnamed")
2019-11-30 23:04:48.180 +01:00 [Information] no name configured
2019-11-30 23:04:48.232 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:48.245 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:04:48.267 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:48.268 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:04:48.315 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:04:48.318 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:04:48.319 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:04:48.319 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:04:48.319 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:04:48.319 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:04:48.352 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:48.352 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:48.352 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:48.353 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:48.353 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:04:48.356 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:48.356 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:04:48.357 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:04:48.357 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:04:48.357 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:04:48.357 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:04:48.358 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:04:48.358 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:04:48.358 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:48.358 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:48.358 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:48.358 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:48.358 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:04:48.359 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:48.359 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:04:48.359 +01:00 [Debug] Instantiated session factory
2019-11-30 23:04:48.359 +01:00 [Information] Running schema validator
2019-11-30 23:04:48.359 +01:00 [Information] fetching database metadata
2019-11-30 23:04:48.360 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:48.524 +01:00 [Information] checking mappings queue
2019-11-30 23:04:48.525 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:04:48.525 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:04:48.525 +01:00 [Information] processing foreign key constraints
2019-11-30 23:04:48.525 +01:00 [Information] processing filters (second pass)
2019-11-30 23:04:48.730 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:04:48.731 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:04:48.920 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:04:48.921 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:04:48.923 +01:00 [Debug] Closing connection
2019-11-30 23:04:48.927 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:04:48.927 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:04:50.298 +01:00 [Debug] Hosting starting
2019-11-30 23:04:50.329 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:04:50.349 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:04:50.356 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:04:50.366 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:04:50.373 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:50.378 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:04:50.380 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:04:50.383 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:04:50.385 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:04:50.389 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:04:50.389 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:04:50.552 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:04:50.552 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:04:50.552 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:04:50.552 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:04:50.553 +01:00 [Debug] Hosting started
2019-11-30 23:04:50.591 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:04:50.594 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:04:50.667 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:04:50.723 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:04:50.729 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:04:50.730 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:50.730 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:50.738 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:04:50.769 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:04:50.770 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:04:50.770 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:04:50.770 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:04:50.771 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:04:50.771 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:04:50.772 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:04:50.774 +01:00 [Debug] Opening Hibernate Session.
2019-11-30 23:04:50.787 +01:00 [Debug] [session-id=fca01fd2-b897-4ff2-be6f-f036cbc04dd1] opened session at timestamp: 637107518907, for session factory: [null/"45057067ec3344359f7704b5a8619633"]
2019-11-30 23:04:52.728 +01:00 [Debug] Executed controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:04:52.732 +01:00 [Debug] Begin (Unspecified)
2019-11-30 23:04:52.732 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:04:53.063 +01:00 [Debug] unsaved-value: 0
2019-11-30 23:04:53.064 +01:00 [Debug] transient instance of: "NhibernateApp.Models.Book"
2019-11-30 23:04:53.064 +01:00 [Debug] saving transient instance
2019-11-30 23:04:53.066 +01:00 [Debug] fetching initial value: ["select max(Id) from Books"]
2019-11-30 23:04:53.068 +01:00 [Debug] Opened new DbCommand, open DbCommands: 1
2019-11-30 23:04:53.069 +01:00 [Debug] Building an DbCommand object for the SqlString: ["select max(Id) from Books"]
2019-11-30 23:04:53.074 +01:00 [Debug] 
    select
        max(Id) 
    from
        Books
2019-11-30 23:04:53.076 +01:00 [Debug] Enlist Command
2019-11-30 23:04:53.160 +01:00 [Debug] ExecuteReader took 83 ms
2019-11-30 23:04:53.161 +01:00 [Debug] Opened DbDataReader, open DbDataReaders: 1
2019-11-30 23:04:53.163 +01:00 [Debug] first free id: 1
2019-11-30 23:04:53.165 +01:00 [Debug] Closed DbDataReader, open DbDataReaders :0
2019-11-30 23:04:53.165 +01:00 [Debug] DataReader was closed after 88 ms
2019-11-30 23:04:53.165 +01:00 [Debug] Closed DbCommand, open DbCommands: 0
2019-11-30 23:04:53.167 +01:00 [Debug] generated identifier: "1", using strategy: "NHibernate.Id.IncrementGenerator"
2019-11-30 23:04:53.169 +01:00 [Debug] saving "[NhibernateApp.Models.Book#1]"
2019-11-30 23:04:53.218 +01:00 [Debug] Start Commit
2019-11-30 23:04:53.218 +01:00 [Debug] before transaction completion
2019-11-30 23:04:53.220 +01:00 [Debug] flushing session
2019-11-30 23:04:53.222 +01:00 [Debug] processing flush-time cascades
2019-11-30 23:04:53.224 +01:00 [Debug] dirty checking collections
2019-11-30 23:04:53.225 +01:00 [Debug] Flushing entities and processing referenced collections
2019-11-30 23:04:53.233 +01:00 [Debug] Processing unreferenced collections
2019-11-30 23:04:53.234 +01:00 [Debug] Scheduling collection removes/(re)creates/updates
2019-11-30 23:04:53.234 +01:00 [Debug] Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects
2019-11-30 23:04:53.235 +01:00 [Debug] Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2019-11-30 23:04:53.236 +01:00 [Debug] listing entities:
2019-11-30 23:04:53.238 +01:00 [Debug] NhibernateApp.Models.Book{'Id'='1', 'Title'='book text matter'}
2019-11-30 23:04:53.239 +01:00 [Debug] executing flush
2019-11-30 23:04:53.239 +01:00 [Debug] Registering flush begin
2019-11-30 23:04:53.243 +01:00 [Debug] Inserting entity: "[NhibernateApp.Models.Book#1]"
2019-11-30 23:04:53.249 +01:00 [Debug] Opened new DbCommand, open DbCommands: 1
2019-11-30 23:04:53.249 +01:00 [Debug] Building an DbCommand object for the SqlString: ["/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (", "?", ", ", "?", ")"]
2019-11-30 23:04:53.252 +01:00 [Debug] Dehydrating entity: "[NhibernateApp.Models.Book#1]"
2019-11-30 23:04:53.253 +01:00 [Debug] binding '"book text matter"' to parameter: 0
2019-11-30 23:04:53.256 +01:00 [Debug] binding '"1"' to parameter: 1
2019-11-30 23:04:53.259 +01:00 [Debug] 
    /* insert NhibernateApp.Models.Book
        */ INSERT 
        INTO
            Books
            (Title, Id) 
        VALUES
            (?p0, ?p1);
    ?p0 = 'book text matter' [Type: String (16:0:0)], ?p1 = 1 [Type: Int32 (0:0:0)]
2019-11-30 23:04:53.260 +01:00 [Debug] Enlist Command
2019-11-30 23:04:53.348 +01:00 [Debug] ExecuteNonQuery took 88 ms
2019-11-30 23:04:53.353 +01:00 [Debug] ExecuteBatch for 1 statements took 0 ms
2019-11-30 23:04:53.353 +01:00 [Debug] Closed DbCommand, open DbCommands: 0
2019-11-30 23:04:53.354 +01:00 [Debug] Registering flush end
2019-11-30 23:04:53.356 +01:00 [Debug] post flush
2019-11-30 23:04:53.444 +01:00 [Debug] DbTransaction Committed
2019-11-30 23:04:53.445 +01:00 [Debug] Aggressively releasing database connection
2019-11-30 23:04:53.446 +01:00 [Debug] Closing connection
2019-11-30 23:04:53.446 +01:00 [Debug] transaction completion
2019-11-30 23:04:53.451 +01:00 [Debug] DbTransaction disposed.
2019-11-30 23:04:53.456 +01:00 [Debug] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2019-11-30 23:04:53.459 +01:00 [Debug] No information found on request to perform content negotiation.
2019-11-30 23:04:53.459 +01:00 [Debug] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2019-11-30 23:04:53.460 +01:00 [Debug] Attempting to select the first formatter in the output formatters list which can write the result.
2019-11-30 23:04:53.460 +01:00 [Debug] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2019-11-30 23:04:53.460 +01:00 [Information] Executing ObjectResult, writing value of type '"NhibernateApp.Models.Book"'.
2019-11-30 23:04:53.500 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 2723.5632ms
2019-11-30 23:04:53.501 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:04:53.504 +01:00 [Debug] [session-id=fca01fd2-b897-4ff2-be6f-f036cbc04dd1] running ISession.Dispose()
2019-11-30 23:04:53.505 +01:00 [Debug] [session-id=fca01fd2-b897-4ff2-be6f-f036cbc04dd1] executing real Dispose(True)
2019-11-30 23:04:53.506 +01:00 [Debug] closing session
2019-11-30 23:04:53.506 +01:00 [Debug] running BatcherImpl.Dispose(true)
2019-11-30 23:04:53.514 +01:00 [Information] Request finished in 2924.0927ms 200 application/json; charset=utf-8
2019-11-30 23:11:58.538 +01:00 [Information] Starting up
2019-11-30 23:11:59.276 +01:00 [Information] NHibernate "5.2.6 (assembly 5.2.0.0)"
2019-11-30 23:11:59.302 +01:00 [Information] "hibernate-configuration" section not found in application configuration file
2019-11-30 23:11:59.304 +01:00 [Information] Bytecode provider name : "lcg"
2019-11-30 23:11:59.307 +01:00 [Information] Objects factory class : "NHibernate.Bytecode.ActivatorObjectsFactory"
2019-11-30 23:11:59.307 +01:00 [Information] Using reflection optimizer
2019-11-30 23:11:59.351 +01:00 [Information] Mapping class: "NhibernateApp.Models.Book" -> "Books"
2019-11-30 23:11:59.359 +01:00 [Debug] Mapped property: Id -> Id, type: Int32
2019-11-30 23:11:59.375 +01:00 [Debug] Mapped property: Title -> Title, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Information] Mapping class: "NhibernateApp.Models.User" -> "Users"
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: Id -> Id, type: Guid
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: FirstName -> FirstName, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: LastName -> LastName, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: Username -> Username, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: Password -> Password, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: Email -> Email, type: StringClob
2019-11-30 23:11:59.380 +01:00 [Debug] Mapped property: Token -> Token, type: StringClob
2019-11-30 23:11:59.392 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:11:59.406 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:11:59.408 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:11:59.424 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:12:00.764 +01:00 [Debug] Closing connection
2019-11-30 23:12:00.774 +01:00 [Information] checking mappings queue
2019-11-30 23:12:00.774 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:12:00.774 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:12:00.774 +01:00 [Information] processing foreign key constraints
2019-11-30 23:12:00.776 +01:00 [Information] processing filters (second pass)
2019-11-30 23:12:00.792 +01:00 [Information] checking mappings queue
2019-11-30 23:12:00.792 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:12:00.792 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:12:00.792 +01:00 [Information] processing foreign key constraints
2019-11-30 23:12:00.792 +01:00 [Information] processing filters (second pass)
2019-11-30 23:12:00.799 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.801 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.807 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.807 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.808 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.808 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.808 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.808 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.809 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:00.810 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:12:00.810 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:12:00.974 +01:00 [Debug] 
    drop table if exists Books
2019-11-30 23:12:01.111 +01:00 [Debug] 
    drop table if exists Users
2019-11-30 23:12:01.224 +01:00 [Debug] 
    create table Books (
        Id INTEGER not null,
       Title VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:12:01.338 +01:00 [Debug] 
    create table Users (
        Id BINARY(16) not null,
       FirstName VARCHAR(50) not null,
       LastName VARCHAR(50) not null,
       Username VARCHAR(50) not null,
       Password VARCHAR(50) not null,
       Email VARCHAR(50) not null,
       Token VARCHAR(50) not null,
       primary key (Id)
    )
2019-11-30 23:12:01.458 +01:00 [Debug] Closing connection
2019-11-30 23:12:01.459 +01:00 [Debug] Disposing of ConnectionProvider.
2019-11-30 23:12:01.460 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:01.460 +01:00 [Information] checking mappings queue
2019-11-30 23:12:01.461 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:12:01.461 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:12:01.461 +01:00 [Information] processing foreign key constraints
2019-11-30 23:12:01.461 +01:00 [Information] processing filters (second pass)
2019-11-30 23:12:01.473 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:01.490 +01:00 [Information] Using dialect: "NHibernate.Dialect.MySQL5Dialect"
2019-11-30 23:12:01.544 +01:00 [Information] Using dialect defined converter
2019-11-30 23:12:01.544 +01:00 [Information] Generate SQL with comments: "enabled"
2019-11-30 23:12:01.545 +01:00 [Information] Configuring ConnectionProvider
2019-11-30 23:12:01.545 +01:00 [Information] Transaction factory: "NHibernate.Transaction.AdoNetWithSystemTransactionFactory"
2019-11-30 23:12:01.546 +01:00 [Information] Optimize cache for minimal puts: False
2019-11-30 23:12:01.546 +01:00 [Information] Connection release mode: "auto"
2019-11-30 23:12:01.546 +01:00 [Information] Default batch fetch size: 1
2019-11-30 23:12:01.546 +01:00 [Information] echoing all SQL to stdout
2019-11-30 23:12:01.546 +01:00 [Information] Statistics: "disabled"
2019-11-30 23:12:01.546 +01:00 [Information] Deleted entity synthetic identifier rollback: "disabled"
2019-11-30 23:12:01.547 +01:00 [Information] Query translator: "NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory"
2019-11-30 23:12:01.547 +01:00 [Information] Query provider: "NHibernate.Linq.DefaultQueryProvider"
2019-11-30 23:12:01.552 +01:00 [Information] Query language substitutions: "{}"
2019-11-30 23:12:01.553 +01:00 [Information] cache provider: "NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:12:01.553 +01:00 [Information] Order SQL inserts for batching: "disabled"
2019-11-30 23:12:01.553 +01:00 [Information] Order SQL updates for batching: "disabled"
2019-11-30 23:12:01.553 +01:00 [Debug] Wrap result sets: "disabled"
2019-11-30 23:12:01.553 +01:00 [Debug] Batch versioned data: "disabled"
2019-11-30 23:12:01.554 +01:00 [Information] Batcher factory: "NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4"
2019-11-30 23:12:01.554 +01:00 [Information] Default flush mode: Auto
2019-11-30 23:12:01.554 +01:00 [Information] Named query checking : "enabled"
2019-11-30 23:12:01.556 +01:00 [Debug] Track session id: enabled
2019-11-30 23:12:01.572 +01:00 [Information] building session factory
2019-11-30 23:12:01.572 +01:00 [Debug] Session factory constructed with filter configurations : "{}"
2019-11-30 23:12:01.573 +01:00 [Debug] instantiating session factory with properties: "{'use_reflection_optimizer'='True', 'dialect'='NHibernate.Dialect.MySQL5Dialect, NHibernate, Version=5.2.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Server=51.83.77.154;Port=32778;Database=NhibernateWebApp;User ID=root;Password=alibi23587;', 'hbm2ddl.keywords'='auto-quote', 'hbm2ddl.auto'='validate', 'show_sql'='true', 'format_sql'='true', 'use_sql_comments'='true'}"
2019-11-30 23:12:01.575 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:12:01.738 +01:00 [Debug] Closing connection
2019-11-30 23:12:01.739 +01:00 [Debug] initializing class SessionFactoryObjectFactory
2019-11-30 23:12:01.740 +01:00 [Debug] registered: "751879397d764ae29ae902d5d0c5760d"("unnamed")
2019-11-30 23:12:01.740 +01:00 [Information] no name configured
2019-11-30 23:12:01.794 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.Book"
2019-11-30 23:12:01.817 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.Book"
2019-11-30 23:12:01.841 +01:00 [Debug] "No custom" accessors found for entity: "NhibernateApp.Models.User"
2019-11-30 23:12:01.841 +01:00 [Debug] Create Instantiator using optimizer for:"NhibernateApp.Models.User"
2019-11-30 23:12:01.878 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.Book"
2019-11-30 23:12:01.880 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.Book */ SELECT Id FROM Books WHERE Id = ", "?"]
2019-11-30 23:12:01.881 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.Book */ SELECT book_.Id, book_.Title as title2_0_ FROM Books book_ WHERE book_.Id=", "?"]
2019-11-30 23:12:01.882 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.Book */ INSERT INTO Books (Title, Id) VALUES (?, ?)"
2019-11-30 23:12:01.882 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.Book */ UPDATE Books SET Title = ? WHERE Id = ?"
2019-11-30 23:12:01.883 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.Book */ DELETE FROM Books WHERE Id = ?"
2019-11-30 23:12:01.920 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:12:01.920 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:12:01.920 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:12:01.921 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:12:01.921 +01:00 [Debug] Static select for entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?", " for update"]
2019-11-30 23:12:01.923 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:12:01.923 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.Book": ["/* load NhibernateApp.Models.Book */ SELECT book0_.Id as id1_0_0_, book0_.Title as title2_0_0_ FROM Books book0_ WHERE book0_.Id=", "?"]
2019-11-30 23:12:01.924 +01:00 [Debug] Static SQL for entity: "NhibernateApp.Models.User"
2019-11-30 23:12:01.924 +01:00 [Debug]  Version select: ["/* get version NhibernateApp.Models.User */ SELECT Id FROM Users WHERE Id = ", "?"]
2019-11-30 23:12:01.924 +01:00 [Debug]  Snapshot select: ["/* get current state NhibernateApp.Models.User */ SELECT user_.Id, user_.FirstName as firstname2_1_, user_.LastName as lastname3_1_, user_.Username as username4_1_, user_.Password as password5_1_, user_.Email as email6_1_, user_.Token as token7_1_ FROM Users user_ WHERE user_.Id=", "?"]
2019-11-30 23:12:01.924 +01:00 [Debug]  Insert 0: "/* insert NhibernateApp.Models.User */ INSERT INTO Users (FirstName, LastName, Username, Password, Email, Token, Id) VALUES (?, ?, ?, ?, ?, ?, ?)"
2019-11-30 23:12:01.924 +01:00 [Debug]  Update 0: "/* update NhibernateApp.Models.User */ UPDATE Users SET FirstName = ?, LastName = ?, Username = ?, Password = ?, Email = ?, Token = ? WHERE Id = ?"
2019-11-30 23:12:01.924 +01:00 [Debug]  Delete 0: "/* delete NhibernateApp.Models.User */ DELETE FROM Users WHERE Id = ?"
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?", " for update"]
2019-11-30 23:12:01.925 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+MergeCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:12:01.926 +01:00 [Debug] Static select for action "NHibernate.Engine.CascadingAction+RefreshCascadingAction" on entity "NhibernateApp.Models.User": ["/* load NhibernateApp.Models.User */ SELECT user0_.Id as id1_1_0_, user0_.FirstName as firstname2_1_0_, user0_.LastName as lastname3_1_0_, user0_.Username as username4_1_0_, user0_.Password as password5_1_0_, user0_.Email as email6_1_0_, user0_.Token as token7_1_0_ FROM Users user0_ WHERE user0_.Id=", "?"]
2019-11-30 23:12:01.926 +01:00 [Debug] Instantiated session factory
2019-11-30 23:12:01.927 +01:00 [Information] Running schema validator
2019-11-30 23:12:01.927 +01:00 [Information] fetching database metadata
2019-11-30 23:12:01.927 +01:00 [Debug] Obtaining DbConnection from Driver
2019-11-30 23:12:02.096 +01:00 [Information] checking mappings queue
2019-11-30 23:12:02.096 +01:00 [Information] processing one-to-many association mappings
2019-11-30 23:12:02.096 +01:00 [Information] processing one-to-one association property references
2019-11-30 23:12:02.096 +01:00 [Information] processing foreign key constraints
2019-11-30 23:12:02.096 +01:00 [Information] processing filters (second pass)
2019-11-30 23:12:02.301 +01:00 [Information] table found: "def.""NhibernateWebApp.""Books"
2019-11-30 23:12:02.302 +01:00 [Information] columns: "Id, Title"
2019-11-30 23:12:02.505 +01:00 [Information] table found: "def.""NhibernateWebApp.""Users"
2019-11-30 23:12:02.505 +01:00 [Information] columns: "Id, FirstName, LastName, Username, Password, Email, Token"
2019-11-30 23:12:02.506 +01:00 [Debug] Closing connection
2019-11-30 23:12:02.513 +01:00 [Debug] Checking 0 named HQL queries
2019-11-30 23:12:02.513 +01:00 [Debug] Checking 0 named SQL queries
2019-11-30 23:12:02.619 +01:00 [Debug] Hosting starting
2019-11-30 23:12:02.646 +01:00 [Information] User profile is available. Using '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2019-11-30 23:12:02.670 +01:00 [Debug] Reading data from file '"C:\Users\ghazi\AppData\Local\ASP.NET\DataProtection-Keys\key-dc9eb012-948e-46c8-afec-bf899bb315a1.xml"'.
2019-11-30 23:12:02.677 +01:00 [Debug] Found key {dc9eb012-948e-46c8-afec-bf899bb315a1}.
2019-11-30 23:12:02.687 +01:00 [Debug] Considering key {dc9eb012-948e-46c8-afec-bf899bb315a1} with expiration date 2020-02-08 17:27:50Z as default key.
2019-11-30 23:12:02.695 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:12:02.697 +01:00 [Debug] Decrypting secret element using Windows DPAPI.
2019-11-30 23:12:02.699 +01:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
2019-11-30 23:12:02.703 +01:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
2019-11-30 23:12:02.705 +01:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
2019-11-30 23:12:02.708 +01:00 [Debug] Using key {dc9eb012-948e-46c8-afec-bf899bb315a1} as the default key.
2019-11-30 23:12:02.709 +01:00 [Debug] Key ring with default key {dc9eb012-948e-46c8-afec-bf899bb315a1} was loaded during application startup.
2019-11-30 23:12:02.854 +01:00 [Debug] Loaded hosting startup assembly "NhibernateApp"
2019-11-30 23:12:02.855 +01:00 [Information] Application started. Press Ctrl+C to shut down.
2019-11-30 23:12:02.855 +01:00 [Information] Hosting environment: "Development"
2019-11-30 23:12:02.855 +01:00 [Information] Content root path: "C:\Users\ghazi\source\repos\NhibernateApp\NhibernateApp"
2019-11-30 23:12:02.855 +01:00 [Debug] Hosting started
2019-11-30 23:12:02.892 +01:00 [Information] Request starting HTTP/2.0 GET https://localhost:44337/api/book/populate  
2019-11-30 23:12:02.895 +01:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
2019-11-30 23:12:02.965 +01:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
2019-11-30 23:12:03.019 +01:00 [Debug] 1 candidate(s) found for the request path '"/api/book/populate"'
2019-11-30 23:12:03.023 +01:00 [Debug] Endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"' with route pattern '"api/Book/Populate"' is valid for the request path '"/api/book/populate"'
2019-11-30 23:12:03.024 +01:00 [Debug] Request matched endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:12:03.025 +01:00 [Information] Executing endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:12:03.033 +01:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2019-11-30 23:12:03.053 +01:00 [Information] Route matched with "{action = \"Populate\", controller = \"Book\"}". Executing controller action with signature "NhibernateApp.Models.Book Populate()" on controller "NhibernateApp.Controllers.BookController" ("NhibernateApp").
2019-11-30 23:12:03.054 +01:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
2019-11-30 23:12:03.054 +01:00 [Debug] Execution plan of "resource" filters (in the following order): ["None"]
2019-11-30 23:12:03.055 +01:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2019-11-30 23:12:03.055 +01:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
2019-11-30 23:12:03.055 +01:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2019-11-30 23:12:03.056 +01:00 [Debug] Executing controller factory for controller "NhibernateApp.Controllers.BookController" ("NhibernateApp")
2019-11-30 23:12:03.070 +01:00 [Information] Executed action "NhibernateApp.Controllers.BookController.Populate (NhibernateApp)" in 9.499ms
2019-11-30 23:12:03.071 +01:00 [Information] Executed endpoint '"NhibernateApp.Controllers.BookController.Populate (NhibernateApp)"'
2019-11-30 23:12:03.072 +01:00 [Error] An unhandled exception has occurred while executing the request.
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = BookBusiness (ReflectionActivator), Services = [NhibernateApp.Business.IBookBusiness], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.) (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: Unable to resolve the type 'NHibernate.ISession' because the lifetime scope it belongs in can't be located. The following services are exposed by this registration:
- NHibernate.ISession

Details ---> No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself. (See inner exception for details.)
 ---> Autofac.Core.DependencyResolutionException: No scope with a tag matching 'AutofacWebRequest' is visible from the scope in which the instance was requested.

If you see this during execution of a web application, it generally indicates that a component registered as per-HTTP request is being requested by a SingleInstance() component (or a similar scenario). Under the web integration always request dependencies from the dependency resolver or the request lifetime scope, never from the container itself.
   at Autofac.Core.Lifetime.MatchingScopeLifetime.FindScope(ISharingLifetimeScope mostNestedVisibleScope)
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup..ctor(IComponentRegistration registration, IResolveOperation context, ISharingLifetimeScope mostNestedVisibleScope, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.AutowiringParameter.<>c__DisplayClass0_0.<CanSupplyValue>b__0()
   at Autofac.Core.Activators.Reflection.ConstructorParameterBinding.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters, Object& decoratorTarget)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-11-30 23:12:03.184 +01:00 [Information] Request finished in 293.6435ms 500 text/html; charset=utf-8
